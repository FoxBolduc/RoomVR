<!DOCTYPE HTML>

<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>RoomVR</title>
    <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>
    <script src="index.js"></script>
  </head>
  <body>
    <a-scene>
      <!--                    ****SAMPLE CODE****
      <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
      <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
      <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
      <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
      <a-sky color="#ECECEC"></a-sky>
      -->
      <!--
      <a-sphere position="-14 0 0" size="1 1 1" color="red"></a-sphere>
      <a-asset-item id="stool-obj" src="./Objects/StoolChair73.obj"></a-asset-item>
      <a-entity obj-model="obj: #stool-obj" scale=".05 .05 .05"></a-entity>
      -->
      <!--                    ****REAL CODE****           -->

      <!-- Scripts-->
        <script>
          var screen = document.querySelector("#screen");
          screen.addEventListener("click", function()
          {
            screen.setAttribute=("src","./Textures/GoTIntro.mp4");
          });
        </script>
      
      <!--Assets-->
      <a-assets>
        <a-asset-item id="sofa" src="./Objects/Sofa/scene.gltf"></a-asset-item>
        <a-asset-item id="bookcase-obj" src="./Objects/RetroRoomDivider.obj"></a-asset-item>
        <a-asset-item id="bookcase-mtl" src="./Objects/RetroRoomDivider.mtl"></a-asset-item>
        <a-asset-item id="stool" src="./Objects/Stool/scene.gltf"></a-asset-item>
        <a-asset-item id="armchair" src="./Objects/Armchair/scene.gltf"></a-asset-item>
        <a-asset-item id="chair" src="./Objects/Chair/scene.gltf"></a-asset-item>
      </a-assets>

      <a-sky id="sky" color="skyblue"></a-sky>

      <!-- Controls and Camera-->
        <a-entity camera universal-controls position="0 1.6 0">
          <a-entity cursor="fuse: true"
                    position="0 0 -.1"
                    geometry="primitive: ring; radiusInner: .001; radiusOuter: .0015"
                    material="color: orange; shader: flat">
            <a-animation begin="click" easing="ease-in" attribute="scale" dur="150"
                    fill="forwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
            <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" dur="1500"
                    fill="backwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
          </a-entity>
        </a-entity>

      <!-- FLOOR, WALL, CEILING -->
      <a-plane position="0 0 0" rotation="-90 0 0" width="20" height="15" src="./Textures/WoodFloor.jpg"></a-plane>
      <a-plane position="0 2.5 -7.5" width="20" height="5" color="darkblue"></a-plane>
      <a-plane position="0 2.5 7.5" rotation="180 0 0" width="20" height="5" material="src: ./Textures/DarkPlaster.jpg; repeat: 20 5"></a-plane>
      <a-plane position="-10 2.5 0" rotation="0 90 0" width="15" height="5" material="
        color: #2020A0; transparent: true; opacity: 0.3;"></a-plane>
      <a-plane position="10 2.5 0" rotation="0 -90 0" width ="15" height="5" material="src: ./Textures/BacksplashTiles.jpg; repeat: 10 3"></a-plane>
      <a-plane position="0 5 0" rotation="90 0 0" width="20" height="15" material="src: ./Textures/WhitePlaster.jpg; repeat: 20 15"></a-plane>
    
    <!--Window Frame-->
      <a-box position="-10 2.5 7.5" scale=".25 5 .25" color="grey"></a-box>
      <a-box position="-10 2.5 -7.5" scale=".25 5 .25" color="grey"></a-box>
      <a-box position="-10 2.5 2.5" scale=".25 5 .25" color="grey"></a-box>
      <a-box position="-10 2.5 -2.5" scale=".25 5 .25" color="grey"></a-box>
      <a-box position="-10 0 0" scale=".25 .25 20" color="grey"></a-box>
      <a-box position="-10 5 0" scale=".25 .25 20" color="grey"></a-box>
    
    <!--Rug-->
      <a-plane position="-3 .0005 -2" rotation="-90 0 0" width="8" height="6" src="./Textures/Rug.png"></a-plane>
    
    <!--Bar-->
      <a-box position="5 0.625 0" scale=".5 1.3 7.5" material="src: ./Textures/DarkWood.jpg; repeat: 1 7.5"></a-box>
      <a-box position="5 1.25 0" scale="1 .1 8" material="src: ./Textures/DarkGranite.jpg; repeat: 1 8"></a-box>
    
    <!--Game Table-->
      <a-box position="-6 1 5" scale="4 .15 2.5" material="src: ./Textures/TableWood.jpg; repeat: 4 2.5"></a-box>
      <a-cylinder position="-7.6 0 6" radius="0.09" src="./Textures/WhiteWood.jpg" height="2"></a-cylinder>
      <a-cylinder position="-7.6 0 4" radius="0.09" src="./Textures/WhiteWood.jpg" height="2"></a-cylinder>
      <a-cylinder position="-4.3 0 6" radius="0.09" src="./Textures/WhiteWood.jpg" height="2"></a-cylinder>
      <a-cylinder position="-4.3 0 4" radius="0.09" src="./Textures/WhiteWood.jpg" height="2"></a-cylinder>
    
    <!--Chairs-->
      <a-gltf-model position="-5.5 0 4.25" scale=".01 .01 .01" src="#chair"></a-gltf-model>
      <a-gltf-model position="-7 0 4.25" scale=".01 .01 .01" src="#chair"></a-gltf-model>
      <a-gltf-model position="-4.5 0 5.9" rotation="0 180 0" scale=".01 .01 .01" src="#chair"></a-gltf-model>
      <a-gltf-model position="-6 0 5.9" rotation="0 180 0" scale=".01 .01 .01" src="#chair"></a-gltf-model>
      <a-gltf-model position="-7.9 0 5.2" rotation="0 90 0" scale=".01 .01 .01" src="#chair"></a-gltf-model>
    
      <!--Television-->
      <a-box position="-3 2.75 -7.4" rotation="3 0 0" scale="5 3 .05" color="black"></a-box>
      <a-plane event-set__click="src: ./Textures/GoTIntro.mp4" position="-3 2.75 -7.36" rotation="3 0 0" height="2.8" width="4.8"  src="black.jpg"></a-plane>
    
    <!--Sofa-->
      <a-gltf-model position="-4 -.05 0" rotation="0 90 0" scale=".02 .02 .02" src="#sofa"></a-gltf-model>
    
    <!--Armchairs-->
      <a-gltf-model position="0 0 -4" rotation="0 -70 0" scale="2 2 2" src="#armchair"></a-gltf-model>
      <a-gltf-model position="-5.25 0 -4" rotation="0 70 0" scale="2 2 2" src="#armchair"></a-gltf-model>

    <!--Bookcases-->
      <a-entity position="1 0 -7" scale=".015 .022 .025" obj-model="obj: #bookcase-obj; mtl: #bookcase-mtl"></a-entity>
      <a-entity position="-7 0 -7" scale=".015 .022 .025" obj-model="obj: #bookcase-obj; mtl: #bookcase-mtl"></a-entity>

    <!--Stools-->
      <a-gltf-model position="2.9 0 1.5" rotation="0 68 0" scale=".0012 .0012 .0012" src="#stool"></a-gltf-model>
      <a-gltf-model position="2.9 0 -.5" rotation="0 68 0" scale=".0012 .0012 .0012" src="#stool"></a-gltf-model>
      <a-gltf-model position="2.9 0 -2.5" rotation="0 68 0" scale=".0012 .0012 .0012" src="#stool"></a-gltf-model>

    <!--Coffee Table-->
      <a-cylinder radius="1.5" position ="-2.5 .75 -2" height=".07" material="color: #6060A0; transparent: true; opacity: 0.7;"></a-cylinder>
      <a-cylinder height="1.5" rotation="0 0 70" radius=".1" position="-2.5 .35 -2" material="src: ./Textures/BrushedSteel.jpg; metalness: .3"></a-cylinder>
      <a-cylinder height="1.5" rotation="0 120 70" radius=".1" position="-2.5 .35 -2" material="src: ./Textures/BrushedSteel.jpg; metalness: .3"></a-cylinder>
      <a-cylinder height="1.5" rotation="0 240 70" radius=".1" position="-2.5 .35 -2" material="src: ./Textures/BrushedSteel.jpg; metalness: .3"></a-cylinder>
    
    <!--Kitchen Counters-->
      <a-box scale="2 2.5 15" position="10 0 0" material="src: ./Textures/DarkWood.jpg; repeat: 1 15"></a-box>
      <a-box scale="2.15 .1 15" position="10 1.25 0" material="src: ./Textures/DarkGranite.jpg; repeat: 1 15"></a-box>
      <a-box scale="5 2.5 2" position="6.5 0 -7.5" material="src: ./Textures/DarkWood.jpg; repeat: 6 1"></a-box>
      <a-box scale="5.1 .1 2.15" position="6.5 1.249 -7.5" material="src: ./Textures/DarkGranite.jpg; repeat: 6 1"></a-box>
      <a-box scale="1 2.5 15" position="9.5 4 0"  material="src: ./Textures/DarkWood.jpg; repeat: 1 15"></a-box>
    
    <!--Outdoors-->
      <a-plane width="40" height="40" rotation="-90 0 0" position="0 -.1 0" color="green"></a-plane>
      <a-box width="40" height="5" rotation="0 90 0" position="-15 0 0" material="src: ./Textures/Stone.jpg; repeat: 20 2"></a-box>
    <!-- GUI-->
      <a-gui-button value="Day" onclick="setLight('day')" position="-9.95 3 -6.5" rotation="0 90 0"></a-gui-button>
      <a-gui-button value="Evening" onclick="setLight('evening')" position="-9.95 2 -6.5" rotation="0 90 0"></a-gui-button>
      <a-gui-button value="Night" onclick="setLight('night')" position="-9.95 1 -6.5" rotation="0 90 0"></a-gui-button> 
    
    <script>
      function setLight(time){
    var sun = document.getElementById('sun');
    var sky = document.getElementById('sky');
    if (time == 'day'){
        sun.setAttribute("position", "-15 10 0")
        sun.setAttribute("color", "#fff6b5")
        sun.setAttribute("intensity","1")
        sky.setAttribute("color", "skyblue")
    }
    if (time == "evening"){
        sun.setAttribute("position", "-15 5 -4");
        sun.setAttribute("color", '#e2791d');
        sun.setAttribute("intensity",".75");
        sky.setAttribute("color", "#fcaa62")
    }
    if (time == 'night'){
      sun.setAttribute("position", "-15 10 0")
      sun.setAttribute("color", "#bfbfff")
      sun.setAttribute("intensity",".25")
      sky.setAttribute("color", "#0a0528")
    }
}
    </script>
    
      <!--Lighting-->
      <!--Sun/Moon-->
      <a-light id="sun" type="directional" color="#fff6b5" intensity="1" position="-15 10 0"></a-light>
    
      <a-light type="point" intensity=".2" position="-3 2 -4"></a-light>
      <a-light id="bar" type="point" intensity=".1" position="5 3 0"></a-light>
    </a-scene>
  </body>
</html>